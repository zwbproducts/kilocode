def process_data(data)
	begin
		result = JSON.parse(data)
		result["data"].map do |item|
			{
				"userId" => item["userId"],
				"amount" => item["amount"],
				"currency" => item["currency"]
			}
		end
	rescue JSON::ParserError => e
		puts "Error parsing JSON: #{e.message}"
		[]
	end
end